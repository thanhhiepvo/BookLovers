<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF8">
        <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
        <title>Wallet</title> 
        <link rel="stylesheet" type="text/css" href="/CSS/style1.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
        <!-- <script src="../Script/script.js" defer></script> -->
    </head>

    <header>
        <a href="#" class="logo"><img src="/Picture/book1.png"></a>
        
        <ul class="navbar">
            <li><a href="homepage">Home</a></li>
            <li><a href="myBook">My books</a></li>
            <li><a href="selling">Selling</a></li>
            <li><a href="wallet" class="home-active">Wallet</a></li>
            <li><a href="about">About</a></li>
        </ul>
        
        <div class="profile">
            <i class='bx bx-user' ></i>
            <span>Profile</span>
            <i class='bx bx-caret-down' ></i>
        </div>

        <div id="profileSpan">
            <h5 id="name"></h5>
            <h5 id="mail"></h5>
            <h5 id="balance"></h5>
        </div>
        <Script>
            var profileSpan = document.getElementById("profileSpan");

            var name = "Tiem Ban Nuoc";
            var mail = "tiembannuoc@gmail.com";
            var balance = "2.000.000";

            document.getElementById("name").textContent = "UserName: " + name;
            document.getElementById("mail").textContent = "Email: " + mail;
            document.getElementById("balance").textContent = "Wallet: " + balance + " VND";

            var caretDownIcon = document.querySelector('.profile .bx-caret-down');
            caretDownIcon.addEventListener('click', () => 
            {
                profileSpan.classList.toggle('active');
            });
        </Script>

    </header>

    <body>
        
        <nav class="miniNavbar">
            <li><a href="#deposit">Deposite</a></li>
            <li><a href="#withdraw">Withdraw</a></li>
            <li><a href="#history">History</a></li>
        </nav>
        
        <div class="mainWallet">
            <div class="balance">
                <h2>Balance</h2>
                <div class="infoWallet">
                    <h1 id="money_wallet"></h1>
                    <h3 id="uname_wallet"></h3>
                    <h3 id="phone_wallet"></h3>
                    <h3 id="mail_wallet"></h3>
                </div>
                <script>
                    var money = "2.000.000";
                    var uname = "Tiem Ban Nuoc";
                    var phone = "0123456789";
                    var mail = "tiembannuoc@gmail.com";

                    document.getElementById("money_wallet").textContent = money + " VND";
                    document.getElementById("uname_wallet").textContent = uname;
                    document.getElementById("phone_wallet").textContent = phone;
                    document.getElementById("mail_wallet").textContent = mail;
                </script>
            </div>

        </div>

        <div class="deposit" id="deposit">
            <div class="infoDepo">
                <h2>Deposit</h2>
            </div>
            <img src="/Picture/momo.jpg">
            <div class="subInfoDepo">
                <h4>Accept all e-Wallet and Mobile banking</h4>
            </div>
        </div>

        <div class="withdraw" id="withdraw">
            <div class="withd">
                <h2>Withdraw</h2>
                <div class="infoWi">
                    <h4 class="info">Withdraw amount (VNƒê)</h4>
                    <input type="text" id="amountInput" step="1000" required>
                    <h3 class="info">From:</h3>
                    <h4 id="fromWi">Tiem Ban Nuoc</h4>
                    <h3 class="info">To:</h3>
                    <h4 id="toWi">0123456789</h4>
                </div>
                <script>
                    var amountInput = document.getElementById("amountInput");
                    if (amountInput.value == "")
                    {
                        amountInput.value = amountInput.value + "VND";
                    }
                    amountInput.addEventListener('keyup', (event) => 
                    {
                        // if (event.keyCode !== 8 && event.keyCode !== 46)
                        // {
                        //     amountInput.selectionStart = amountInput.value.length - 4;
                        //     amountInput.selectionEnd = amountInput.value.length - 4;
                        // }

                        if (event.keyCode == 8)
                        {
                            if (amountInput.value[0] == ".")
                            {
                                amountInput.value = amountInput.value.slice(2);
                            }
                            else
                            {
                                amountInput.value = amountInput.value.slice(1);
                            }
                            amountInput.selectionStart = 0;
                            amountInput.selectionEnd = 0;
                        }

                        else
                        {
                            var count = 0;
                            for (var i = 0; i < amountInput.value.length; i++)
                            {
                                if (amountInput.value[i] == ".")
                                {
                                    count ++;
                                }
                            }
                            if ((amountInput.value.length - count) % 3 == 0)
                            {
                                amountInput.value = "." + amountInput.value;
                            }
                            amountInput.selectionStart = 0;
                            amountInput.selectionEnd = 0;

                        }

                        // const value = event.target.value;
                    });
                    // document.getElementById("amountInput").textContent = amountInput + " VND";
                </script>
            </div>
        </div>

        <div class="history" id="history">
            <div class="infoHis">
                <h2>History</h2>

            </div>
        </div>

    </body>
    
    <body>


        
    
    </body>

</html>